# simple-test-manager

**ВНИМАНИЕ:** пакет находится в процессе разработки, возможно наличие неисправностей,  
которые будут устранены в дальнейшем.

Простой однопоточный менеджер для создания, агрегации, управления и запуска тестов.
Менеджер дает возможность создавать тесты, сортировать/запускать их по тегам, удобно
наблюдать результат выполнения, дополнительно предоставляя метрики по времени выполнения.

## Описание пакета

Ниже будут преведено описание основого функционала пакета.

### Создание теста  

Создать тест возможно с помощью функции `createTest()`, которая принимает слудующие параметры:
* name - имя теста,
* tag - тэг по которому можно группировать тесты;
* case - сам тест кейс, представляющий собой ф-ю, возвращающую true/false;
* preparation (не обез.) - ф-я, которая выполнится перед тестом;
* completion (не обез.) - ф-я, которая выполнится после теста;  

Функция возвращает экземпляр теста, который нужно будет передать в testManager.

### Добавление теста в testManager
Для добавления ф-ии в testManager используются методы `addTest()` и `addTests()`, которые  
позволяют добавить один экземпляр или массив экземпляров тестов в работу.  
Пример:
```
testManager.addTest(test);
testManager.addTests([test1, test2, testn]);
```

### Запуск тестов
Запуск тестов производится с помощью методов `runAllTests()` и `runTestsByTag()`.
Первый метод запускает выполнение всех тестов, второй же принимает в себя параметр - имя тэга,
запуская тесты по соответствующему тэгу.  
Пример:
```
testManager.runAllTests();
testManager.runTestsByTag('User tests');
```
Пример результата выполнения тестов:
```
...
...
...
==================================================
|_____________________Backup_____________________|
==================================================

NAME: Record download after N backups             
TIME: 6s 491ms
STATUS: PASSED

NAME: Backup controller test             
TIME: 37ms
STATUS: PASSED


--------------------------------------------------

TOTAL TIME: 6s 528ms
TOTAL: 2
PASSED: 2

==================================================
|___________________Example tag__________________|
==================================================

NAME: Example name             
TIME: 0ms
STATUS: PASSED


--------------------------------------------------

TOTAL TIME: 0ms
TOTAL: 1
PASSED: 1

==================================================
┌─────────────┬───────┬────────┬───────────┐
│         tag │ total │ passed │ totalTime │
├─────────────┼───────┼────────┼───────────┤
│      Record │     7 │      7 │  5s 287ms │
│      Backup │     2 │      2 │  6s 528ms │
│    Location │     1 │      1 │     148ms │
│      Folder │     1 │      1 │      33ms │
│ Example tag │     1 │      1 │       0ms │
│     SUMMARY │    12 │     12 │ 11s 996ms │
└─────────────┴───────┴────────┴───────────┘
```

## Пример создания и выполнения тест-кейса

...**IN PROGRESS**